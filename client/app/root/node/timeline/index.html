<div class="container" >

  <div class="node-content-buttons">
    <div class="btn-group">
      <button type="button" class="btn btn-default">Write new text</button>
      <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">Add new event <span class="caret"></span></button>
      <ul class="dropdown-menu" role="menu">
        <li><a href="#">Birth</a></li>
        <li><a href="#">Engagement</a></li>
        <li><a href="#">Marriage</a></li>
        <li><a href="#">Death</a></li>
        <li><a href="#">Other</a></li>
      </ul>
    </div>
  </div>

  <div data-bind="foreach: list">
    <h4 style="border-bottom: 1px solid #ddd; padding: 0 5px 10px 5px; margin-bottom: 0;" data-bind="text: $data.date"></h4>
    <div style="padding: 0 5px 30px 5px;">
      <div data-bind="foreach: $data.texts">
        <div style="margin-top: 20px;">
      
          <div data-bind="visible: $data.type === 'birth'">
            <h6>
              <i class="fa fa-quote-left fa-white"></i>
              Birth
            </h6>
            <p data-bind="html: $data.text.replace(/\n/g, '<br>')"></p>
          </div>

          <div data-bind="visible: $data.type === 'engagement'">
            <h6>
              <i class="fa fa-heart-empty fa-white"></i>
              Engagement
            </h6>
            <p data-bind="html: $data.text.replace(/\n/g, '<br>')"></p>
          </div>

          <div data-bind="visible: $data.type === 'marriage'">
            <h6>
              <i class="fa fa-heart fa-white"></i>
              Marriage
            </h6>
            <p data-bind="html: $data.text.replace(/\n/g, '<br>')"></p>
          </div>

          <div data-bind="visible: $data.type === 'death'">
            <h6>
              <i class="fa fa-quote-right fa-white"></i>
              Death
            </h6>
            <p data-bind="html: $data.text.replace(/\n/g, '<br>')"></p>
          </div>

          <div data-bind="visible: !$data.type || $data.type === false || $data.type === 'none' || $data.type === ''">
            <h6 data-bind="text: $data.name"></h6>
            <p data-bind="html: $data.text.replace(/\n/g, '<br>')"></p>
            <div class="text-muted" style="font-size: 10px; margin-top: 5px;">
              <span style="margin-right: 20px;"><i class="fa fa-user"></i> <span data-bind="userName: $data.added._by"></span></span>
              <span style="margin-right: 20px;"><i class="fa fa-map-marker"></i> <span data-bind="whereName: $data.where"></span></span>
              <a style="margin-right: 20px;" href="#"><i class="fa fa-pencil"></i> Edit</a>
            </div>
          </div>
        </div>
      </div>
      <div class="clearfix" data-bind="foreach: $data.files" style="margin-top: 20px;">
        <a data-bind="media: $data.url, tooltip: { title: $data.name }, attr: { href: '#node/' + $root.node()._id + '/timeline/' + $data._id }" style="float: left; margin-right: 1px; margin-bottom: 1px; width: 80px; height: 80px; background-color: #ddd"></a>
      </div>
    </div>
  </div>

  <div data-bind="template: { name: 'loading-template', if: loading }"></div>
</div>