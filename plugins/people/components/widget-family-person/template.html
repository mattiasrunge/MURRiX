<table style="text-align: center;" class="relation-table">
    <tbody>
        <tr class="relation-parent-row" data-bind="if: data.tree.parents().length > 0, visible: data.tree.parentsVisible">
            <td data-bind="foreach: data.tree.parents" style="white-space: nowrap; line-height: normal; padding: 0px; margin: 0px; padding-left: 15px; padding-right: 15px;"><div style="display: inline-block; vertical-align: bottom;" data-bind="component: { name: 'people-widget-family-person', params: { data: $data, zoom: $component.zoom } }"></div></td>
        </tr>
        <tr>
            <td style="line-height: normal; padding: 0px;">
                <span data-bind="if: data.tree.type === 'child'">
                    <div class="relation-horizontal-line-left" data-bind="css: { 'relation-horizontal-line-hide': data.tree.first }"></div><!--
                    --><div class="relation-horizontal-line-right" data-bind="css: { 'relation-horizontal-line-hide': data.tree.last }"></div>
                </span>

                <span data-bind="if: data.tree.parents().length > 0 || data.tree.type === 'child'">
                    <div style="height: 40px; width: 2px; background-color: #ccc; margin-left: auto; margin-right: auto; margin-top: -5px; overflow: visible;">
                        <button data-bind="visible: data.tree.type !== 'child', click: data.tree.expandParents" class="relation-expand relation-parent-expand">
                            <i data-bind="visible: !data.tree.parentsVisible()" class="material-icons md-18">add</i>
                            <i data-bind="visible: data.tree.parentsVisible()" class="material-icons md-18">remove</i>
                        </button>
                    </div>
                </span>

                <div data-bind="css: { 'relation-me': data.tree.type === 'me' }" style="display: inline-block; position: relative;">

                    <div data-bind="style: { zoom: $component.zoom }" style="vertical-align: top; margin-left: auto; margin-right: auto; width: 320px; height: 90px;">

                        <div class="box-content relation-person-box-small" style="margin: 0px 15px 0px 15px; height: 90px; padding: 0px; position: relative;" data-bind="visible: $component.zoom() <= 0.7">

                            <div class="relation-person-image-small">
                                <span data-bind="component: { name: 'file-widget-profile-picture', params: { size: 88, path: data.tree.nodepath().path, nolazyload: true } }"></span>
                            </div>

                            <div class="relation-person-image-small-title" data-bind="css: { 'relation-person-title-male': data.attributes.gender === 'm', 'relation-person-title-female': data.attributes.gender === 'f' }">
                                <a src="#" data-bind="location: { page: 'node', path: data.tree.nodepath().path }, text: data.attributes.name"></a>
                            </div>
                        </div>

                        <div class="box-content relation-person-box" style="margin: 0px 15px 0px 15px; height: 90px; padding: 0px; position: relative;" data-bind="visible: $component.zoom() > 0.7">

                            <div class="relation-person-image">
                                <span data-bind="component: { name: 'file-widget-profile-picture', params: { size: 88, path: data.tree.nodepath().path, nolazyload: true } }"></span>
                            </div>

                            <div class="relation-person-title">
                                <div class="relation-person-title-background" data-bind="css: { 'relation-person-title-male': data.attributes.gender === 'm', 'relation-person-title-female': data.attributes.gender === 'f' }"></div>
                                    <a src="#" data-bind="location: { page: 'node', path: data.tree.nodepath().path }, text: data.attributes.name"></a>
                            </div>

                            <div style="padding-left: 100px; font-size: 12px;">
                                <div data-bind="visible: data.tree.metrics().birthdate || data.tree.metrics().deathdate" style="margin-bottom: 10px;">
                                    <i class="material-icons md-14">date_range</i>
                                    <span class="relation-person-birth" data-bind="visible: data.tree.metrics().birthdate, text: data.tree.metrics().birthdate"></span>
                                    <span class="relation-person-death" data-bind="visible: data.tree.metrics().deathdate">&mdash; <span data-bind="text: data.tree.metrics().deathdate"></span></span>
                                </div>
                                <div>
                                    <i class="material-icons md-14">favorite</i>
                                    <span data-bind="component: { name: 'people-widget-partner', params: { nodepath: data.tree.nodepath } }" class="relation-person-partner"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <span data-bind="if: data.tree.children().length > 0 || data.tree.type === 'parent'">
                    <div style="height: 40px; width: 2px; background-color: #ccc; margin-left: auto; margin-right: auto; margin-bottom: -13px; overflow: visible;">
                        <button data-bind="visible: data.tree.type !== 'parent', click: data.tree.expandChildren" class="relation-expand relation-child-expand">
                            <i data-bind="visible: !data.tree.childrenVisible()" class="material-icons md-18">add</i>
                            <i data-bind="visible: data.tree.childrenVisible()" class="material-icons md-18">remove</i>
                        </button>
                    </div>
                </span>

                <span data-bind="if: data.tree.type === 'parent'">
                    <div class="relation-horizontal-line-left" data-bind="css: { 'relation-horizontal-line-hide': data.tree.first }"></div><!--
                    --><div class="relation-horizontal-line-right" data-bind="css: { 'relation-horizontal-line-hide': data.tree.last }"></div>
                </span>
            </td>
        </tr>
        <tr class="relation-child-row" data-bind="if: data.tree.children().length > 0, visible: data.tree.childrenVisible">
            <td data-bind="foreach: data.tree.children" style="white-space: nowrap; line-height: normal; padding: 0px; margin: 0px; padding-left: 15px; padding-right: 15px;"><div style="display: inline-block; vertical-align: top;" data-bind="component: { name: 'people-widget-family-person', params: { data: $data, zoom: $component.zoom } }"></div></td>
        </tr>
    </tbody>
</table>
