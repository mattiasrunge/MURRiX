<div class="fadeInRight animated">
    <div class="row" data-bind="if: nodepath">
        <div class="col-md-8">
            <file-profile-picture class="pull-left" style="margin-right: 15px;" params="{ size: 128, path: nodepath().path }"></file-profile-picture>

            <h2 data-bind="text: nodepath().node.attributes.fullname ? nodepath().node.attributes.fullname : nodepath().node.attributes.name"></h2>
            <node-description params="{ nodepath: nodepath }"></node-description>
            <node-labels params="{ nodepath: nodepath }"></node-labels>
        </div>
        <div class="col-md-4 left-border">
            <table class="table node-table text-muted">
                <tbody>
                    <tr>
                        <td><strong>Created</strong></td>
                        <td data-bind="datetimeAgo: nodepath().node.properties.birthtime"></td>
                    </tr>
                    <tr>
                        <td><strong>Last modified</strong></td>
                        <td data-bind="datetimeAgo: nodepath().node.properties.mtime"></td>
                    </tr>
                    <tr>
                        <td><strong>Birth name</strong></td>
                        <td data-bind="text: nodepath().node.attributes.birthname"></td>
                    </tr>
                    <tr data-bind="visible: metrics().birthdate">
                    <td><strong>Date of birth</strong></td>
                        <td data-bind="text: metrics().birthdate"></td>
                    </tr>
                    <tr data-bind="visible: metrics().deathdate">
                        <td><strong>Date of death</strong></td>
                        <td data-bind="text: metrics().deathdate"></td>
                    </tr>
                    <tr data-bind="visible: metrics().deathdate">
                        <td><strong>Age at death</strong></td>
                        <td data-bind="text: metrics().ageatdeath"></td>
                    </tr>
                    <tr data-bind="visible: metrics().birthdate">
                        <td><strong>Age</strong></td>
                        <td data-bind="text: metrics().age"></td>
                    </tr>
                    <tr>
                        <td><strong>Partner</strong></td>
                        <td>
                            <people-widget-partner params="{ path: nodepath().path }"></people-widget-partner>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Allergies</strong></td>
                        <td data-bind="html: nodepath().node.attributes.allergies"></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="row">
        <div class="bottom-border" style="margin-left: 15px; margin-right: 15px; margin-top: 15px;"></div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <h3 style="margin-bottom: 0; padding-bottom: 0;">Timeline</h3>

                <ul class="timeline">
                    <!-- ko foreach: events -->
                        <li data-bind="css: { 'timeline-inverted': $index() % 2 !== 0 }">
                            <div class="timeline-panel">
                                <div class="timeline-body">
                                    <div class="timeline-date" data-bind="datetimeDay: $data.day"></div>

                                    <!-- ko foreach: $data.texts -->
                                        <h4 data-bind="html: $data.node.attributes.name"></h4>
                                        <p data-bind="html: $data.node.attributes.text.replace(/\n/g, '<br>')"></p>
                                    <!-- /ko -->
                                </div>
                            </div>
                        </li>
                    <!-- /ko -->




                    <li class="clearfix" style="float: none;"></li>
                </ul>

        </div>
    </div>
</div>
