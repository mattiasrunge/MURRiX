<div class="container" >

  <div data-bind="foreach: list">
    <h4 style="border-bottom: 1px solid #ddd; padding: 0 5px 10px 5px; margin-bottom: 0;" data-bind="text: $data.date"></h4>
    <div style="padding: 0 5px 30px 5px;">
      <div data-bind="foreach: $data.texts">
        <div style="margin-top: 20px;">
      
          <div data-bind="visible: $data.type === 'birth'">
            <h6>
              <i class="icon-quote-left icon-white"></i>
              Birth
            </h6>
            <div data-bind="html: $data.text.replace(/\n/g, '<br>')"></div>
          </div>

          <div data-bind="visible: $data.type === 'engagement'">
            <h6>
              <i class="icon-heart-empty icon-white"></i>
              Engagement
            </h6>
            <div data-bind="html: $data.text.replace(/\n/g, '<br>')"></div>
          </div>

          <div data-bind="visible: $data.type === 'marriage'">
            <h6>
              <i class="icon-heart icon-white"></i>
              Marriage
            </h6>
            <div data-bind="html: $data.text.replace(/\n/g, '<br>')"></div>
          </div>

          <div data-bind="visible: $data.type === 'death'">
            <h6>
              <i class="icon-quote-right icon-white"></i>
              Death
            </h6>
            <div data-bind="html: $data.text.replace(/\n/g, '<br>')"></div>
          </div>

          <div data-bind="visible: !$data.type || $data.type === false || $data.type === 'none' || $data.type === '', html: $data.text.replace(/\n/g, '<br>')"></div>
        </div>
      </div>
      <div class="clearfix" data-bind="foreach: $data.files" style="margin-top: 20px;">
        <a data-bind="media: $data.url, tooltip: { title: $data.name }, attr: { href: '#node/' + $root.node()._id + '/timeline/' + $data._id }" style="float: left; margin-right: 1px; margin-bottom: 1px; width: 80px; height: 80px; background-color: #ddd"></a>
      </div>
    </div>
  </div>

  <div data-bind="template: { name: 'loading-template', if: loading }"></div>
</div>