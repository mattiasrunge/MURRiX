<div class="main-overlay" data-bind="fadeVisible: nodeModel.logbookModel.show">
  <div class="main-overlay-content">
    <div class="page-header">
      <a class="btn btn-primary pull-right" href="#" data-bind="hrefSecondPrimary: ''">Close</a>

      <span class="pull-right btn-spacer-big">&nbsp;</span>
      
      <button rel="tooltip" title="Edit tags" class="btn pull-right" href="#addTextModal" data-toggle="modal">Add new entry</button>

      <h1>Logbook</h1>
    </div>

    <!-- ko: if: nodeModel.node -->
      <div class="logentries" data-bind="foreach: nodeModel.node.texts">
        <div class="well">
          <h4>
            <span data-bind="htmlTimestamp: $data.createdDatetime || '<i>No date and time information found</i>'"></span>
            <span class="btn-group pull-right" data-bind="">
              <button class="btn btn-mini" data-bind="click: $parent.editClicked"><i class="icon-pencil"></i></button>
              <button class="btn btn-mini" data-bind="click: $parent.editClicked"><i class="icon-trash"></i></button>
            </span>
          </h4>
          <p></p>
          <span data-bind="html: $data.text"></span>
        </div>
      </div>
    <!-- /ko -->

  </div>
  <div class="well sidebar-nav-background"></div>
</div>

<form class="modal" id="addTextModal" tabindex="-1" role="dialog" aria-labelledby="addTextModalLabel" aria-hidden="true" style="display: none;" data-bind="submit: nodeModel.logbookModel.addTextSubmit" data-murrix-node-type="event">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
    <h3 id="addTextModalLabel">Write new entry </h3>
  </div>
  <div class="modal-body">
    <div class="input-append date pull-left" id="logbookFormDate" data-date="2012-12-12" data-date-format="yyyy-mm-dd">
      <input class="span2" size="10" type="text" data-bind="disable: nodeModel.logbookModel.addTextSaving, value: nodeModel.logbookModel.addTextDate" placeholder="YYYY-MM-DD"><span class="add-on"><i class="icon-th"></i></span>
    </div>
    <input class="pull-left;" style="margin-left: 10px;" size="8" type="text" data-bind="disable: nodeModel.logbookModel.addTextSaving, value: nodeModel.logbookModel.addTextTime" id="logbookFormTime" placeholder="HH:MM:SS">
    <textarea placeholder="Write text here..." data-bind="disable: nodeModel.logbookModel.addTextSaving, value: nodeModel.logbookModel.addTextText" class="input-xxlarge" id="logbookFormText" rows="15" style="width: 515px;"></textarea>
  </div>
  <div class="modal-footer">
    <p class="pull-left text-error" data-bind="visible: nodeModel.logbookModel.addTextErrorText() != '', text: nodeModel.logbookModel.addTextErrorText"></p>
    <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
    <button class="btn btn-primary">Create</button>
  </div>
</form>