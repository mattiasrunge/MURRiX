<div data-bind="fadeVisible: nodeModel.aboutModel.show">
  <div class="abs-max content" data-bind="if: nodeModel.node() !== false">
    <div class="page-header">
      <h1>Overview <small>Summary of content</small></h1>
    </div>

    <form data-bind="submit: nodeModel.tagSubmit" class="clearfix" style="border-bottom: 1px solid #ccc; padding-bottom: 10px; margin-bottom: 20px;">
      <input class="form-control pull-left input-small" placeholder="Write tag..." type="text" data-bind="visible: nodeModel.node().hasAdminAccess(), hasfocus: nodeModel.tagHasFocus, disable: nodeModel.tagLoading, value: nodeModel.tagName" data-provide="typeahead" style="width: 150px; margin-right: 10px; margin-bottom: 10px;"/>

      <!-- ko foreach: nodeModel.node().tags -->
        <span class="label label-success pull-left" style="margin-right: 10px; margin-bottom: 10px; font-size: 20px;">
          <a href="#" data-bind="text: $data, attr: { href: '#search:tag=' + $data }" style="color: white; cursor: pointer; text-decoration: none;"></a>
          <span data-bind="visible: $parent.nodeModel.node().hasAdminAccess()">
            &nbsp;
            <a href="#" style="color: white;" data-bind="click: $parent.nodeModel.tagRemove">
              <i class="icon-remove-sign"></i>
            </a>
          </span>
        </span>
      <!-- /ko -->


    </form>

    <div style="margin-bottom: 50px;">
      <div class="row" style="margin-left: -15px">
        <div class="col-lg-6">

          <div style="margin-bottom: 20px;" data-bind="visible: nodeModel.node().description() !== ''">
            <h4>Description</h4>
            <p data-bind="text: nodeModel.node().description"></p>
          </div>

          <div data-bind="if: nodeModel.node().type() === 'person'">
            <h4>Lives at</h4>
            <div class="alert alert-error" data-bind="visible: nodeModel.aboutModel.homesErrorText() !== '', text: nodeModel.aboutModel.homesErrorText"></div>
            <div class="alert alert-info" data-bind="visible: nodeModel.aboutModel.homesLoading">Loading homes...</div>
            <div class="clearfix" data-bind="template: { name: 'nodeBoxTemplate', foreach: nodeModel.aboutModel.homes }"></div>

            <h4>Owner of</h4>
            <div class="alert alert-error" data-bind="visible: nodeModel.aboutModel.ownerOfErrorText() !== '', text: nodeModel.aboutModel.ownerOfErrorText"></div>
            <div class="alert alert-info" data-bind="visible: nodeModel.aboutModel.ownerOfLoading">Loading ownerOf...</div>
            <div class="clearfix" data-bind="template: { name: 'nodeBoxTemplate', foreach: nodeModel.aboutModel.ownerOf }"></div>

          </div>

        </div>

        <div class="col-lg-6">
          <div style="margin-bottom: 20px;">
            <h4>Details</h4>
            <table class="table table-striped">
              <tr>
                <td>Name</td>
                <td data-bind="text: nodeModel.node().name()"></td>
              </tr>
              <tr>
                <td>Added&nbsp;by</td>
                <td data-bind="textUserAttribute: [ nodeModel.node().added._by(), 'name' ]"></td>
              </tr>
              <tr>
                <td>Added&nbsp;on</td>
                <td data-bind="htmlTimestamp: nodeModel.node().added.timestamp"></td>
              </tr>
              <tr>
                <td>Modified&nbsp;by</td>
                <td data-bind="textUserAttribute: [ nodeModel.node().modified._by(), 'name' ]"></td>
              </tr>
              <tr>
                <td>Modified&nbsp;on</td>
                <td data-bind="htmlTimestamp: nodeModel.node().modified.timestamp"></td>
              </tr>

              <!-- ko if: nodeModel.node().type() === 'person' -->
                <tr data-bind="visible: nodeModel.aboutModel.ageNow() !== false">
                  <td>Age now</td>
                  <td data-bind="text: nodeModel.aboutModel.ageNow()"></td>
                </tr>
                <tr data-bind="visible: nodeModel.aboutModel.ageAtDeath() !== false">
                  <td>Age at death</td>
                  <td data-bind="text: nodeModel.aboutModel.ageAtDeath()"></td>
                </tr>
                <tr>
                  <td>Birthname</td>
                  <td data-bind="text: nodeModel.node().birthname"></td>
                </tr>
                <tr>
                  <td>Gender</td>
                  <td data-bind="text: nodeModel.node().gender"></td>
                </tr>
              <!-- /ko -->
            </table>
          </div>
        </div>

      </div>
    </div>

  </div>
  <div class="abs-max background"></div>
</div>
